const parseErrorRaw=require("./parseErrorRaw").execute,evalErrors=require("./evalErrors").execute,statusCode=require("./statusCode").execute;module.exports={execute(e,r,t){try{let s=e.stack;void 0===s&&(s=`${e}`?new Error(`${e}`).stack:(e=new Error("Error message is undefined")).stack);let a=parseErrorRaw(e,t);if(evalErrors(),a=a.split(".txt")[0],r)return statusCode(r,500,{errorFile:a,text:t})}catch(e){r&&statusCode(r,500),require("./lastFallback").execute(e)}}};
