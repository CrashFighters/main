const fs=require("fs"),settings=require("../../../settings.json");module.exports={execute(s){let e=s;e.includes("$")&&(e=e.split("$")[0]),e.includes("?")&&(e=e.split("?")[0]);let i=e;if(e.split("/")[1]&&e.split("/")[2]&&e.split("/")[1]==e.split("/")[2]&&(e="/"+e.split("/").splice(2).join("/")),e.split("/")[e.split("/").length-1].includes(".")||(e.endsWith("/")||(e=`${e}/`),e=`${e}index.html`),e=`${settings.generic.path.files.files}${e}`,!fs.existsSync(e)){let s="/"+i.split("/").splice(2).join("/");s.split("/")[s.split("/").length-1].includes(".")||(s.endsWith("/")||(s=`${s}/`),s=`${e}index.html`),s=`${settings.generic.path.files.files}${s}`,fs.existsSync(s)&&(e=s)}return e}};
