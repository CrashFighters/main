const fs=require("fs"),path=require("path"),middlewares=fs.readdirSync(path.resolve(__dirname,"./middleware/")).map((e=>require(`./middleware/${e}`))),settings=require("../../settings.json"),parseErrorOnline=require("../functions/error/parseErrorOnline").execute;module.exports={async execute(e,r){try{let a={};for(const t of middlewares){const i=await t(e,r);middleWareData={...a,...i}}return e.url.toLowerCase().startsWith(settings.generic.path.online.api)?require("../server/api.js").execute(e,r,middleWareData):require("./normal.js").execute(e,r,middleWareData)}catch(e){parseErrorOnline(e,r,undefined)}}};
