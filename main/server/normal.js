const fs=require("fs"),mime=require("mime-types"),statusCode=require("../functions/error/statusCode.js").execute,checkAcceptHeader=require("../functions/parse/header/accept");module.exports={execute(e,t,r){let s=require("../functions/parse/normal").execute(e.url);if(fs.existsSync(s))fs.readFile(s,(async(e,r)=>{if(e)throw e;return t.writeHead(200,{"Content-Type":mime.lookup(s)}),t.end(r)}));else{if(e.headers.accept&&!checkAcceptHeader(e.headers.accept,"text/html").isIn)return t.writeHead(404),t.end();statusCode(t,404)}}};
