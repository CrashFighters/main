const signUpButton=document.getElementById("signUp"),signInButton=document.getElementById("signIn"),container=document.getElementById("container"),signUpButton_mobile=document.getElementById("signUp_mobile"),signInButton_mobile=document.getElementById("signIn_mobile");signUpButton.removeEventListener("click",(()=>{container.classList.add("right-panel-active")})),signInButton.removeEventListener("click",(()=>{container.classList.remove("right-panel-active")})),signUpButton_mobile.removeEventListener("click",(()=>{container.classList.add("right-panel-active")})),signInButton_mobile.removeEventListener("click",(()=>{container.classList.remove("right-panel-active")})),signUpButton.addEventListener("click",(()=>{container.classList.add("right-panel-active")})),signInButton.addEventListener("click",(()=>{container.classList.remove("right-panel-active")})),signUpButton_mobile.addEventListener("click",(()=>{container.classList.add("right-panel-active")})),signInButton_mobile.addEventListener("click",(()=>{container.classList.remove("right-panel-active")}));import{onStateChange}from"/sdk/auth.js";import{loginWithEmail,createEmailAccount}from"/sdk/login.js";import{setDisplayName}from"/sdk/settings.js";import{minimalLoginRecaptchaScore,minimalSignupRecaptchaScore}from"/common/settings.js";import{createButton}from"/sdk/recaptcha.js";let loginCaptcha,signupCaptcha,preventRedirect=!1;onStateChange((e=>{e&&!preventRedirect&&window.location.replace("/")})),window.doLogin=async e=>{const t=document.getElementById("loginEmail").value,n=document.getElementById("loginPassword").value,i=document.getElementById("loginButton-1");if(e<minimalLoginRecaptchaScore&&!loginCaptcha&&(loginCaptcha=await createButton(document.getElementById("loginRecaptchaButton"))),!(loginCaptcha&&"success"!==loginCaptcha.state||!loginCaptcha&&e<minimalLoginRecaptchaScore)){i.disabled=!0,preventRedirect=!0;try{await loginWithEmail(t,n)}finally{i.disabled=!1,preventRedirect=!1}window.location.replace("/")}},window.doSignup=async e=>{const t=document.getElementById("signupName").value,n=document.getElementById("signupEmail").value,i=document.getElementById("signupPassword").value,a=document.getElementById("signupButton-1");if(e<minimalSignupRecaptchaScore&&!signupCaptcha&&(signupCaptcha=await createButton(document.getElementById("signupRecaptchaButton"))),!(signupCaptcha&&"success"!==signupCaptcha.state||!signupCaptcha&&e<minimalSignupRecaptchaScore)){a.disabled=!0,preventRedirect=!0;try{await createEmailAccount(n,i),await setDisplayName(t)}finally{a.disabled=!1,preventRedirect=!1}window.location.replace("/")}};
