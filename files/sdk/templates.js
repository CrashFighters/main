import{onStateChange}from"/sdk/auth.js";const getTemplateValues=e=>({email:e?.email??"",displayName:e?.displayName??"",picture:e?.picture??"",loggedOut:null!==e,loggedIn:null===e});function replaceTemplates(e){const t=getTemplateValues(e),a=deepQuerySelectorAll("[data-template]");for(const e of a){const a=e.dataset.template;if(!(a in t)){console.error(new Error(`[templateSDK] Template ${a} used on line ${e.dataset.lineNumber} is not a valid template.`));continue}let l=t[a];console.log(),void 0!==e.dataset.template_update_callback&&window[e.dataset.template_update_callback](a,l),""===t[a]&&void 0!==e.dataset.template_fallback&&(l=e.dataset.template_fallback),void 0===e.dataset.template_insert||"innerText"===e.dataset.template_insert?e.innerText=l:e[e.dataset.template_insert]=l}if(0===a.length)throw new Error("[templateSDK] No templates found to replace. Please make sure you have at least one element with the data-template attribute.")}function deepQuerySelectorAll(e,t=document){const a=[...t.querySelectorAll(e)],l=t=>{for(const l of deepQuerySelectorAll(e,t))a.includes(l)||a.push(l)};t.shadowRoot&&l(t.shadowRoot);for(const e of t.querySelectorAll("*"))e.shadowRoot&&l(e.shadowRoot);return a}onStateChange((e=>{replaceTemplates(e)})),replaceTemplates(null);
