let admin,serviceAccount,databaseURL,db,ref,err,data=null,hasInit=!1;async function init(){admin=require("firebase-admin"),serviceAccount=require("../../../credentials/firebase.json").serviceAccount,databaseURL=require("../../../credentials/firebase.json").databaseURL,await admin.initializeApp({credential:admin.credential.cert(serviceAccount),databaseURL:databaseURL},"database"),db=admin.database(),ref=db.ref(),ref.on("value",(a=>{data=a.val()}),(a=>{err=a})),hasInit=!0}module.exports={async set(a){hasInit||await init(),ref.set(a)},async get(){if(hasInit||await init(),err)throw err;return data||{}}};
